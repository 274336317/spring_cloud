<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">

	<link rel="stylesheet" href="/bootstrap-4.3.1/css/bootstrap.min.css">
    <script type="text/javascript" src="/js/rem.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <title>XXX智慧园区-数据大屏</title>
</head>

<body style="visibility: hidden;">
    <div class="container-flex" tabindex="0" hidefocus="true">
        <div class="box-left">
            
            <div class="left-top" style="height:25%">
                <div class="title-box">
                    <h6>设备监控数据</h6>
                </div>
                <div class="chart-box pie-chart" style="margin-top:5px;">
				  <table class="row mx-0 text-white device_table" style="height:100%">
				    <thead class="w-100">
				      <tr class="w-100">
				        <th class="col-3">设备名称</th>
				        <th class="col-3">总 数</th>
				        <th class="col-3">使用数量</th>
				        <th class="col-3">故障数量</th>
				      </tr>
				    </thead>
				    <tbody class="w-100">
				      <tr>
				        <td class="col-3">智能路灯</td>
				        <td class="col-3">100</td>
				        <td class="col-3">95</td>
				        <td class="col-3" style="color:orange;">5</td>
				      </tr>
				      <tr>
				        <td class="col-3">客运电梯</td>
				        <td class="col-3">20</td>
				        <td class="col-3">19</td>
				        <td class="col-3" style="color:orange;">1</td>
				      </tr>
				      <tr>
				        <td class="col-3">货运电梯</td>
				        <td class="col-3">10</td>
				        <td class="col-3">9</td>
				        <td class="col-3" style="color:orange;">1</td>
				      </tr>
				      <tr>
				        <td class="col-3">空调系统</td>
				        <td class="col-3">100</td>
				        <td class="col-3">96</td>
				        <td class="col-3" style="color:orange;">4</td>
				      </tr>
				   	  <tr>
				        <td class="col-3">门禁系统</td>
				        <td class="col-3">90</td>
				        <td class="col-3">89/90</td>
				        <td class="col-3" style="color:orange;">1</td>
				      </tr>
				    </tbody>
				  </table>
                </div>
                
            </div>
            
            <div class="left-center" style="height:15%">
                <div class="title-box">
                    <h6>车辆管理</h6>
                </div>
                <div class="chart-box pie-chart">
					<div style="width:50%;height:0.4em;float:left;">
						<div style="float:left;font-size:0.18em;color:white;margin-top:10px;">
							车位数量:&nbsp;
						</div>
						<div style="float:left;font-size:0.18em;color:yellow;margin-top:10px">
							1000
						</div>
					</div>
					
					<div style="width:50%;height:0.4em;float:left;">
						<div style="float:left;font-size:0.18em;color:white;margin-top:10px">
							已&nbsp;使&nbsp;&nbsp;用:&nbsp;
						</div>
						<div style="float:left;font-size:0.18em;color:yellow;margin-top:10px">
							900
						</div>
					</div>
					
					<div style="width:50%;height:0.4em;float:left;">
						<div style="float:left;font-size:0.18em;color:white">
							小车数量:&nbsp;
						</div>
						<div style="float:left;font-size:0.18em;color:yellow">
							600
						</div>
					</div>
					
					<div style="width:50%;height:0.4em;float:left;">
						<div style="float:left;font-size:0.18em;color:white">
							货车数量:&nbsp;
						</div>
						<div style="float:left;font-size:0.18em;color:yellow">
							300
						</div>
					</div>
					
                </div>
                
            </div>
            
            <div class="left-bottom" style="height:53%">
                <div class="title-box">
                    <h6>能耗管理</h6>
                </div>
                <div class="chart-box pie-chart">
					<div id="energy_curve" style="width:100%;height:50%;color:white;margin-top:15px;"></div>
					<div id="water_curve" style="width:100%;height:50%;color:white;margin-top:5px;"></div>
				</div>
            </div>
        </div>
        <div class="box-center">
            <div class="center-top">
                <h1>XX园区数据大屏</h1>
            </div>
            <div class="center-center">
	            <div class="health-top">
	                <div class="current-num">
	                    <div class="health-title">园区健康状况</div>
		                <div class="exception-tips">正常</div>
		                
		                <div class="exception-list">
		                	<p>一号楼 308室 照明异常</p>
		                	<p>一号楼 2号客运电梯 故障</p>
		                	<p>一号楼 1号门门禁 故障</p>
		                </div>
		                
		                <div class="exception-list-tatus">
		                	<p style="color:green;">已派单</p>
		                	<p style="color:white;">未派单</p>
		                	<p style="color:green;">已派单</p>
		                </div>
		                
		                <div class="exception-list">
		                	<p>二号楼  1号货运电梯 故障</p>
		                	<p>地下车库 2号闸门  故障</p>
		                	<p>三号楼 一号门门禁 故障</p>
		                </div>
		                <div class="exception-list-tatus">
		                	<p style="color:green;">已派单</p>
		                	<p style="color:green;">已派单</p>
		                	<p style="color:green;">已派单</p>
		                </div>
	                </div>

	            </div>
           
            </div>
            
            <div class="zone_image">
            	<img src="../images/timg.jpg"/>
            </div>
            
            <div class="photovoltaics_chart_div">
                <div id="photovoltaics_chart" style="width:100%;height:100%;color:white;margin-top:15px;">
                    
                </div>
            </div>

        </div>
        <div class="box-right">
            <div class="right-top">
                <div class="title-box">
                    <h6 id="barTitle">故障数据</h6>
                </div>
                
            <div class="fault_chart_div">
                <div id="fault_chart" style="width:100%;height:100%;color:white;margin-top:15px;">
                    
                </div>
            </div>
                
            </div>
            <div class="right-center">
                <div class="title-box">
                    <p id="switchBtn"><span class="active" data-dataType="income">人员数据</span></p>
                </div>
	            <div class="people_chart_div">
	                <div id="people_chart" style="width:100%;height:100%;color:white;margin-top:15px;">
	                    
	                </div>
	            </div>
               
            </div>
            <div class="right-bottom">
                <div class="data-box">
                    <div class="settings-box">
                   	    <p><img src="images/people_iocn.png" alt="">负&nbsp;责&nbsp;&nbsp;人：<span id="lea_a">张晓明 (138xxxxxxxx)</span></p>
                        <p><img src="images/teacher_icon.png" alt="">今日值班：<span id="name_a">刘晓燕&nbsp;&nbsp;李长青&nbsp;&nbsp;万小强</span><span id="date_a"></span></p>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>
<script type="text/javascript" src="/jquery-3.3.1/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="/popper/popper.min.js"></script>
<script type="text/javascript" src="/js/layer/layer.min.js"></script>
<script type="text/javascript" src="/js/layer/laydate/laydate.js"></script>
<script type="text/javascript" src="/echarts/echarts.min.js"></script>
<script type="text/javascript" src="/js/china.js"></script>
<script type="text/javascript" src="/js/data/guangdong.js"></script>
<script type="text/javascript" src="/js/base.js"></script>
<script type="text/javascript">
    $('document').ready(function () {
        $("body").css('visibility', 'visible');
        var localData = [$('#teacher').val(), $('#start').val() + '/' + $('#end').val(), $('#leader').val()]
        localStorage.setItem("data", localData);
        $('#conBtn').on('click', function () {
            localData = [$('#teacher').val(), $('#start').val() + '/' + $('#end').val(), $('#leader').val()]
            if (typeof (Storage) !== "undefined") {
                localStorage.setItem("data", localData);
                var arr = localStorage.getItem("data").split(',');
                $('#name_a').html(arr[0]);
                $('#date_a').html(arr[1]);
                $('#lea_a').html(arr[2]);
            }
        })
        $('#fangda').on('click', function () {
            if ($(this).siblings('ul').is(":hidden")) {
                $(this).addClass('active').siblings('ul').show();
            } else {
                $(this).removeClass('active').siblings('ul').hide();
            }
        })

        $('.modal-btn>li').on('click', function () {
            var index = $(this).index();
            if (index <= 2) {
                $('.container').attr('style', 'visibility: visible').find('.pop-up').eq(index).attr('style', 'visibility: visible').siblings().attr('style', 'visibility: hidden');
            } else if (index > 2 && index < 5) {
                $('.container').attr('style', 'visibility: visible').find('.pop-up').eq(3).attr('style', 'visibility: visible').siblings().attr('style', 'visibility: hidden');
                if (index != 3) {
                    $('.pop-data .ranking-box').hide();
                } else {
                    $('.pop-data .ranking-box').show();
                }
                $('.cont-div').eq(index - 3).attr('style', 'visibility: visible').siblings('.cont-div').attr('style', 'visibility: hidden');
            } else if (index == 5) {
                $('.container').attr('style', 'visibility: visible').find('.pop-up').eq(3).attr('style', 'visibility: visible').siblings().attr('style', 'visibility: hidden');
                $('.pop-data .ranking-box').hide();
                if ($('#switchBtn').find('.active').data('datatype') == "income") {
                    $('#titles').html('收入数据');
                    $('#totalProfits').html('123,456.5元');
                    $('.cont-div').eq(2).attr('style', 'visibility: visible').siblings('.cont-div').attr('style', 'visibility: hidden');
                } else if ($('#switchBtn').find('.active').data('datatype') == 'expend') {
                    $('#titles').html('支出数据');
                    $('#totalProfits').html('32,111.4元');
                    $('.cont-div').eq(2).attr('style', 'visibility: visible').siblings('div').attr('style', 'visibility: hidden');
                }
            }
        })
        

        var energy_curve = echarts.init(document.getElementById('energy_curve'));

        energy_curve_option = {
                title: {
                    text: '电-19170度',

        	        textStyle: {
        	        	fontWeight: 'normal',
        	        	color: '#ffffff'
        	      	},
                },
        	    tooltip: {
        	        trigger: 'axis'
        	    },
                legend: {
                    data:['一号楼','二号楼','三号楼'],
        	        textStyle: {
        	        	fontWeight: 'normal',
        	        	color: '#ffffff'
        	      	},
                },
        	    grid: {
        	        left: '3%',
        	        right: '4%',
        	        bottom: '3%',
        	        containLabel: true
        	    },
        	    xAxis: {
        	        type: 'category',
	       	          axisLine: {
	       	              lineStyle: {
	       	                color:'white'
	       	              }
	       	            },
        	        boundaryGap: false,
        	        data: ['9:00','9:30','10:00','10:30','11:00','11:30','12:00']
        	    },
        	    yAxis: {
        	        type: 'value',
        	        max:4000,
                    splitLine: {
                        show: false
                    },
	       	          axisLine: {
	       	              lineStyle: {
	       	                color:'white',
	       	              }
	       	            },
        	    },
        	    series: [
        	        {
        	            name:'一号楼',
        	            type:'line',
        	            data:[1200, 1320, 1010, 1340, 1850, 1900, 2100],
        	            smooth: true,
                        itemStyle : {
                            normal : {
                                lineStyle:{
                                    width:2,
                                }
                            }
                        },
        	        },
        	        {
        	            name:'二号楼',
        	            type:'line',
        	            data:[1000, 1820, 1910, 2340, 2900, 3300, 3100],
        	            smooth: true,
                        itemStyle : {
                            normal : {
                                lineStyle:{
                                    width:2,
                                }
                            }
                        },
        	        },
        	        {
        	            name:'三号楼',
        	            type:'line',
        	            data:[1500, 2320, 2010, 1540, 1900, 2300, 3300],
        	            smooth: true,
                        itemStyle : {
                            normal : {
                                lineStyle:{
                                    width:2,
                                }
                            }
                        },
        	        }
        	    ]
        	};

        
        energy_curve.setOption(energy_curve_option);
        
        
        var water_curve = echarts.init(document.getElementById('water_curve'));

        water_curve_option = {
                title: {
                    text: '水-917吨',
        	        textStyle: {
        	        	fontWeight: 'normal',
        	        	color: '#ffffff'
        	      	},
                },
        	    tooltip: {
        	        trigger: 'axis'
        	    },
                legend: {
                    data:['一号楼','二号楼','三号楼'],
        	        textStyle: {
        	        	fontWeight: 'normal',
        	        	color: '#ffffff'
        	      	},
                },
        	    grid: {
        	        left: '3%',
        	        right: '4%',
        	        bottom: '3%',
        	        containLabel: true
        	    },
        	    xAxis: {
        	        type: 'category',
	       	          axisLine: {
	       	              lineStyle: {
	       	                // 设置x轴颜色
	       	                color:'white'
	       	              }
	       	            },
        	        boundaryGap: false,
        	        data: ['9:00','9:30','10:00','10:30','11:00','11:30','12:00']
        	    },
        	    yAxis: {
        	        type: 'value',
        	        max:400,
                    splitLine: {
                        show: false
                    },
	       	          axisLine: {
	       	              lineStyle: {
	       	                // 设置x轴颜色
	       	                color:'white'
	       	              }
	       	            },
        	    },
        	    series: [
        	        {
        	            name:'一号楼',
        	            type:'line',
        	            data:[120, 132, 101, 134, 90, 230, 210],
        	            smooth: true,
                        itemStyle : {
                            normal : {
                                lineStyle:{
                                    width:2,//折线宽度
                                    color:"#0e94eb"//折线颜色
                                }
                            }
                        },
        	        },
        	        {
        	            name:'二号楼',
        	            type:'line',
        	            data:[220, 182, 191, 234, 290, 330, 310],
        	            smooth: true,
                        itemStyle : {
                            normal : {
                                lineStyle:{
                                    width:2,//折线宽度
                                    color:"#c440ef"//折线颜色
                                }
                            }
                        },
        	        },
        	        {
        	            name:'三号楼',
        	            type:'line',
        	            data:[150, 232, 201, 154, 190, 330, 410],
        	            smooth: true,
                        itemStyle : {
                            normal : {
                                lineStyle:{
                                    width:2,//折线宽度
                                    color:"#efb013"//折线颜色
                                }
                            }
                        },
        	        }
        	    ]
        	};

        
        water_curve.setOption(water_curve_option);
        
        
        var photovoltaics_chart = echarts.init(document.getElementById('photovoltaics_chart'));

        photovoltaics_chart_option = {
                title: {
                    text: '智能光伏.发电总量  1129683 kw.h',
        	        textStyle: {
        	        	fontWeight: 'normal',
        	        	color: '#ffffff'
        	      	},
                },
        	    tooltip: {
        	        trigger: 'axis'
        	    },
        	    grid: {
        	        left: '3%',
        	        right: '4%',
        	        bottom: '3%',
        	        containLabel: true
        	    },
        	    xAxis: {
        	        type: 'category',
	       	          axisLine: {
	       	              lineStyle: {
	       	                // 设置x轴颜色
	       	                color:'white'
	       	              }
	       	            },
        	        boundaryGap: false,
        	        data: ['22/4','23/4','24/4','25/4','26/4','27/4','28/4']
        	    },
        	    yAxis: {
        	        type: 'value',
        	        max:2500,
                    splitLine: {
                        show: false
                    },
	       	          axisLine: {
	       	              lineStyle: {
	       	                // 设置x轴颜色
	       	                color:'white'
	       	              }
	       	            },
        	    },
        	    series: [
        	        {
        	            name:'发电量',
        	            type:'line',
        	            areaStyle: {color:"#0e94eb"},

        	            data:[1200, 1320, 1010, 1340, 900, 2300, 2100],
        	            smooth: true,
                        itemStyle : {
                            normal : {
                                lineStyle:{
                                    width:2,//折线宽度
                                    color:"#0e94eb"//折线颜色
                                }
                            }
                        },
        	        }
        	    ]
        	};

        
        photovoltaics_chart.setOption(photovoltaics_chart_option);
        
        
        var fault_chart = echarts.init(document.getElementById('fault_chart'));
        
        fault_option = {

        	    title: {
        	        text: '故障分布',
        	        left: 'center',
        	        top: 20,
        	        textStyle: {
        	            color: '#ffffff'
        	        }
        	    },

        	    tooltip : {
        	        trigger: 'item',
        	        formatter: "{a} <br/>{b} : {c} ({d}%)"
        	    },

        	    visualMap: {
        	        show: false,
        	        min: 80,
        	        max: 600,
        	        inRange: {
        	            colorLightness: [0, 1]
        	        }
        	    },
        	    series : [
        	        {
        	            name:'故障统计',
        	            type:'pie',
        	            radius : '55%',
        	            center: ['50%', '50%'],
        	            data:[
        	                {value:335, name:'照明故障'},
        	                {value:310, name:'电梯故障'},
        	                {value:274, name:'门禁故障'},
        	                {value:235, name:'闸门故障'},
        	                {value:400, name:'空调故障'}
        	            ].sort(function (a, b) { return a.value - b.value; }),
        	            roseType: 'radius',
        	            label: {
        	                normal: {
        	                    textStyle: {
        	                        color: 'rgba(255, 255, 255, 0.9)'
        	                    }
        	                }
        	            },
        	            labelLine: {
        	                normal: {
        	                    lineStyle: {
        	                        color: 'rgba(255, 255, 255, 0.3)'
        	                    },
        	                    smooth: 0.2,
        	                    length: 10,
        	                    length2: 20
        	                }
        	            },
        	            itemStyle: {
        	                normal: {
        	                    color: '#c23531',
        	                    shadowBlur: 200,
        	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
        	                }
        	            },

        	            animationType: 'scale',
        	            animationEasing: 'elasticOut',
        	            animationDelay: function (idx) {
        	                return Math.random() * 200;
        	            }
        	        }
        	    ]
        	};
        
        fault_chart.setOption(fault_option);
        
        var people_chart = echarts.init(document.getElementById('people_chart'));
        
        people_option = {

        	    title: {
        	        text: '入园人数:845人',
        	        left: 'center',
        	        top: 20,
        	        textStyle: {
        	            color: '#ffffff'
        	        }
        	    },

        	    tooltip : {
        	        trigger: 'item',
        	        formatter: "{a} <br/>{b} : {c} ({d}%)"
        	    },

        	    visualMap: {
        	        show: false,
        	        min: 80,
        	        max: 600,
        	        inRange: {
        	            colorLightness: [0, 1]
        	        }
        	    },
        	    series : [
        	        {
        	            name:'人员统计',
        	            type:'pie',
        	            radius : '55%',
        	            center: ['40%', '50%'],
        	            data:[
        	                {value:535, name:'园区员工'},
        	                {value:310, name:'外来人员'},
        	                {value:74, name:'缺勤人员'}
        	            ],
        	            label: {
        	                normal: {
        	                    textStyle: {
        	                        color: 'rgba(255, 255, 255, 0.9)'
        	                    }
        	                }
        	            },
        	            labelLine: {
        	                normal: {
        	                    lineStyle: {
        	                        color: 'rgba(255, 255, 255, 0.9)'
        	                    },
        	                    smooth: 0.2,
        	                    length: 10,
        	                    length2: 20
        	                }
        	            },
        	            itemStyle: {
        	                normal: {
        	                    color: '#c23531',
        	                    shadowBlur: 200,
        	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
        	                }
        	            },

        	            animationType: 'scale',
        	            animationEasing: 'elasticOut',
        	            animationDelay: function (idx) {
        	                return Math.random() * 200;
        	            }
        	        }
        	    ]
        	};
        
        people_chart.setOption(people_option);
        
    });
    

    
</script>



</html>